<nb-card class="cardMain">
    <nb-card-body>
        <div class="col-md-12">
            <div class=" row">
                <div class="col-md-3">
                    <img class="Logo1" src="assets/logos/LogoTeleperformance.png">
                </div>
                <div class="col-md-6"></div>
                <div class="col-md-3">
                    <img class="Logo2" src="assets/logos/LogoTPBonus.png">
                </div>
            </div>
        </div>
        <nb-card class="cardSecond">
            <nb-card-body>
                <div class="col-md-12">
                    <div class=" row justify-content-around">
                        <div class="col-md-12"><br></div>
                        <div class="col-md-2 orgView">
                            <label for="lob" class="titulos">Lob</label>
                            <nb-select id="lob" placeholder="Select Lob" [(ngModel)]="LobSeleccionado" ngDefaultControl
                                (ngModelChange)="loadSubLob()">
                                <nb-option *ngFor="let a of listLob " [value]="a.Lob_Id">
                                    {{a.Lob}}
                                </nb-option>
                            </nb-select>
                        </div>
                        <div class="col-md-2 orgView">
                            <label for="sublob" class="titulos">SubLob</label>
                            <nb-select id="sublob" placeholder="Select SubLob" [(ngModel)]="SubLobSeleccionado"
                                [disabled]="!LobSeleccionado" ngDefaultControl (ngModelChange)="loadRol()">
                                <nb-option *ngFor="let b of listSubLob" [value]="b.SubLob_Id">
                                    {{b.SubLob}}
                                </nb-option>
                            </nb-select>
                        </div>
                        <div class="col-md-2 orgView">
                            <label for="rol" class="titulos">Rol</label>
                            <nb-select id="rol" placeholder="Select Rol" [disabled]="!SubLobSeleccionado"
                                [(ngModel)]="RolSeleccionado" ngDefaultControl (ngModelChange)="loadPeriod()">
                                <nb-option *ngFor="let c of listRol " [value]="c.Role_Id">
                                    {{c.Role}}
                                </nb-option>
                            </nb-select>
                        </div>
                        <div class="col-md-2 orgView">
                            <label for="periodo" class="titulos">Periodo</label>
                            <nb-select id="periodo" placeholder="Select Periodo" [(ngModel)]="PeriodSeleccionado"
                                [disabled]="!RolSeleccionado" ngDefaultControl (ngModelChange)="loadTenure()">
                                <nb-option *ngFor="let d of listPeriod" [value]="d.IdPeriod">
                                    {{d.Period_Name}}
                                </nb-option>
                            </nb-select>
                        </div>
                        <div class="col-md-2 orgView">
                            <label for="tenure" class="titulos">Antiguedad</label>
                            <nb-select id="tenure" placeholder="Select Tenure" [(ngModel)]="TenureSeleccionado"
                                [disabled]="!PeriodSeleccionado" ngDefaultControl (ngModelChange)="execAllKPI()">
                                <nb-option *ngFor="let e of listTenure" [value]="e.IdTenure">
                                    {{e.Tenure}}
                                </nb-option>
                            </nb-select>
                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <br>
                </div>

                <div class="col-md-12">
                    <div class=" row justify-content-center">

                        <button class="boton" (click)="openDialog('BonoMax')" [disabled]="!TenureSeleccionado">Base
                            Bono</button>


                        <button class="boton" (click)="openDialog('GateWays')" [disabled]="!TenureSeleccionado">Llave de
                            Acceso</button>


                        <button class="boton" (click)="openDialog('ThresHold')"
                            [disabled]="!TenureSeleccionado">Umbrales</button>


                        <button class="boton" (click)="openDialog('Modifiers')"
                            [disabled]="!TenureSeleccionado">Modificadores</button>


                        <button class="boton" (click)="openDialog('GlobalModifiers')"
                            [disabled]="!TenureSeleccionado">Modificadores Globales</button>


                        <button class="boton" (click)="openDialog('UnitPayment')" [disabled]="!TenureSeleccionado">Pago
                            Unitario</button>
                    </div>
                </div>
            </nb-card-body>
        </nb-card>
    </nb-card-body>
</nb-card>

<div class="col-md-12">
    <div class=" row" style="padding-left: 100px;">
        <div class="col-md-5">
            <div class="strecth">
                <img class="subtitulos" src="assets/logos/Base_Bono.svg">
            </div>
            <table class="table table-striped-table1">
                <thead>
                    <tr>
                        <th scope="col">Base Bono</th>
                    </tr>
                </thead>
                <tbody *ngFor="let b of listBonoMax">
                    <tr>
                        <td>{{b.BonusValue | currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-md-1"></div>
        
        <div class="col-md-5">
            <img class="subtitulos" src="assets/logos/Llave_Acceso.svg">
            <table class="table table-striped-table2">
                <thead>
                    <tr>
                        <th scope="col">Nombre KPI</th>
                        <th scope="col">Meta KPI</th>
                        <th scope="col">Participación</th>
                    </tr>
                </thead>
                <tbody *ngFor="let g of listGateWays">
                    <tr>
                        <td>{{g.KPI_Name}}</td>
                        <td>{{g.TargetKPI}}</td>
                        <td>{{g.Share | percent}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="col-md-12">
    <div class=" row" style="padding-left: 100px;">
        <div class="col-md-5">
            <img class="subtitulos" src="assets/logos/Umbrales.svg">
            <table class="table table-striped-table3">
                <thead>
                    <tr>
                        <th scope="col">Nombre KPI</th>
                        <th scope="col">Rango Incial</th>
                        <th scope="col">Rango Final</th>
                        <th scope="col">Participación</th>
                        <th scope="col">Valor Bono</th>
                    </tr>
                </thead>
                <tbody *ngFor="let u of listThresHold">
                    <tr>
                        <td>{{u.KPI_Name}}</td>
                        <td>{{u.StartRange}}</td>
                        <td>{{u.EndRange}}</td>
                        <td>{{u.ParticipationKpi | percent}}</td>
                        <td>{{u.BonusValue | currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-md-1"></div>

        <div class="col-md-5">
            <img class="subtitulos" src="assets/logos/Modificadores.svg">
            <table class="table table-striped-table4">
                <thead>
                    <tr>
                        <th scope="col">Nombre KPI</th>
                        <th scope="col">Rango Inicial</th>
                        <th scope="col">Rango Final</th>
                        <th scope="col">Porcentaje Modificador</th>
                        <th scope="col">Valor Modificador</th>
                    </tr>
                </thead>
                <tbody *ngFor="let m of listModifiers">
                    <tr>
                        <td>{{m.KPI_Name}}</td>
                        <td>{{m.StartRange}}</td>
                        <td>{{m.EndRange}}</td>
                        <td>{{m.PercentIncrement | percent}}</td>
                        <td>{{m.IntegerIncrement | currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="col-md-12">
    <div class=" row" style="padding-left: 100px;">
        <div class="col-md-5">
            <img class="subtitulos" src="assets/logos/Mod_Globales.svg">
            <table class="table table-striped-table5">
                <thead>
                    <tr>
                        <th scope="col">Nombre KPI</th>
                        <th scope="col">Rango Inicial</th>
                        <th scope="col">Rango Final</th>
                        <th scope="col">Porcentaje Modificador</th>
                        <th scope="col">Valor Modificador</th>
                    </tr>
                </thead>
                <tbody *ngFor="let mg of listGlobalModifiers">
                    <tr>
                        <td>{{mg.KPI_Name}}</td>
                        <td>{{mg.StartRange}}</td>
                        <td>{{mg.EndRange}}</td>
                        <td>{{mg.PercentModifier | percent}}</td>
                        <td>{{mg.IntegerModifier | currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-md-1"></div>

        <div class="col-md-5">
            <img class="subtitulos" src="assets/logos/Pago_Unitario.svg">
            <table class="table table-striped-table6">
                <thead>
                    <tr>
                        <th scope="col">Nombre KPI</th>
                        <th scope="col">Unidades</th>
                        <th scope="col">Valor Bono</th>
                    </tr>
                </thead>
                <tbody *ngFor="let p of listUnitPayment">
                    <tr>
                        <td>{{p.KPI_Name}}</td>
                        <td>{{p.Units_Per_KPI}}</td>
                        <td>{{p.TotalValue | currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>